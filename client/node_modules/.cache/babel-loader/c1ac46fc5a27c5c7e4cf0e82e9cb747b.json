{"ast":null,"code":"import { SET_AUTHENTIFICATION, ADD_RESSOURCE } from \"./action-types\";\nimport axios from \"axios\";\nvar BASE_URL = \"http://localhost:3090\";\nexport function setAuthentification(isLoggedIn) {\n  return {\n    type: SET_AUTHENTIFICATION,\n    payload: isLoggedIn\n  };\n}\nexport function addRessource() {\n  return {\n    type: ADD_RESSOURCE\n  };\n}\nexport function signinUser(_ref, history) {\n  var email = _ref.email,\n      password = _ref.password;\n  return function (dispatch) {\n    axios.post(\"\".concat(BASE_URL, \"/signin\"), {\n      email: email,\n      password: password\n    }).then(function (response) {\n      localStorage.setItem(\"Token\", response.data.token);\n      dispatch(setAuthentification(true));\n      history.push(\"/lol\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n}\nexport function signoutUser() {\n  return function (dispatch) {\n    dispatch(setAuthentification(false));\n    localStorage.removeItem(\"Token\");\n  };\n}","map":{"version":3,"sources":["/Users/j.bardon/Desktop/Test/reactapp/client/src/actions/index.js"],"names":["SET_AUTHENTIFICATION","ADD_RESSOURCE","axios","BASE_URL","setAuthentification","isLoggedIn","type","payload","addRessource","signinUser","history","email","password","dispatch","post","then","response","localStorage","setItem","data","token","push","catch","error","console","log","signoutUser","removeItem"],"mappings":"AAAA,SAASA,oBAAT,EAA+BC,aAA/B,QAAoD,gBAApD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,uBAAjB;AACA,OAAO,SAASC,mBAAT,CAA6BC,UAA7B,EAAyC;AAC9C,SAAO;AACLC,IAAAA,IAAI,EAAEN,oBADD;AAELO,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID;AAED,OAAO,SAASG,YAAT,GAAwB;AAC7B,SAAO;AACLF,IAAAA,IAAI,EAAEL;AADD,GAAP;AAGD;AAED,OAAO,SAASQ,UAAT,OAAyCC,OAAzC,EAAkD;AAAA,MAA5BC,KAA4B,QAA5BA,KAA4B;AAAA,MAArBC,QAAqB,QAArBA,QAAqB;AACvD,SAAO,UAASC,QAAT,EAAmB;AACxBX,IAAAA,KAAK,CACFY,IADH,WACWX,QADX,cAC8B;AAC1BQ,MAAAA,KAAK,EAALA,KAD0B;AAE1BC,MAAAA,QAAQ,EAARA;AAF0B,KAD9B,EAKGG,IALH,CAKQ,UAAAC,QAAQ,EAAI;AAChBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACG,IAAT,CAAcC,KAA5C;AACAP,MAAAA,QAAQ,CAACT,mBAAmB,CAAC,IAAD,CAApB,CAAR;AACAM,MAAAA,OAAO,CAACW,IAAR,CAAa,MAAb;AACD,KATH,EAUGC,KAVH,CAUS,UAAAC,KAAK,EAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAZH;AAaD,GAdD;AAeD;AAED,OAAO,SAASG,WAAT,GAAuB;AAC5B,SAAO,UAASb,QAAT,EAAmB;AACxBA,IAAAA,QAAQ,CAACT,mBAAmB,CAAC,KAAD,CAApB,CAAR;AACAa,IAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACD,GAHD;AAID","sourcesContent":["import { SET_AUTHENTIFICATION, ADD_RESSOURCE } from \"./action-types\";\nimport axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:3090\";\nexport function setAuthentification(isLoggedIn) {\n  return {\n    type: SET_AUTHENTIFICATION,\n    payload: isLoggedIn\n  };\n}\n\nexport function addRessource() {\n  return {\n    type: ADD_RESSOURCE\n  };\n}\n\nexport function signinUser({ email, password }, history) {\n  return function(dispatch) {\n    axios\n      .post(`${BASE_URL}/signin`, {\n        email,\n        password\n      })\n      .then(response => {\n        localStorage.setItem(\"Token\", response.data.token);\n        dispatch(setAuthentification(true));\n        history.push(\"/lol\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n}\n\nexport function signoutUser() {\n  return function(dispatch) {\n    dispatch(setAuthentification(false));\n    localStorage.removeItem(\"Token\");\n  };\n}\n"]},"metadata":{},"sourceType":"module"}