{"ast":null,"code":"import { SET_AUTHENTIFICATION, ADD_RESSOURCE, GET_SPECIAL_RESOURCE } from \"./action-types\";\nimport axios from \"axios\";\nvar BASE_URL = \"http://localhost:3090\";\nexport function setAuthentification(isLoggedIn) {\n  return {\n    type: SET_AUTHENTIFICATION,\n    payload: isLoggedIn\n  };\n}\nexport function addRessource() {\n  return {\n    type: ADD_RESSOURCE\n  };\n}\nexport function signinUser(_ref, history) {\n  var email = _ref.email,\n      password = _ref.password;\n  return function (dispatch) {\n    axios.post(\"\".concat(BASE_URL, \"/signin\"), {\n      email: email,\n      password: password\n    }).then(function (response) {\n      localStorage.setItem(\"Token\", response.data.token);\n      dispatch(setAuthentification(true));\n      history.push(\"/lol\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n}\nexport function signupUser(_ref2, history) {\n  var email = _ref2.email,\n      password = _ref2.password;\n  return function (dispatch) {\n    axios.post(\"\".concat(BASE_URL, \"/signup\"), {\n      email: email,\n      password: password\n    }).then(function (response) {\n      localStorage.setItem(\"Token\", response.data.token);\n      dispatch(setAuthentification(true));\n      history.push(\"/lol\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n}\nexport function signoutUser() {\n  return function (dispatch) {\n    dispatch(setAuthentification(false));\n    localStorage.removeItem(\"Token\");\n  };\n}\nexport function getSpecialRessource() {\n  return function (dispatch) {\n    axios.get(\"\".concat(BASE_URL, \"/lol\"), {\n      headers: {\n        authorization: localStorage.getItem(\"Token\")\n      }\n    }).then(function (response) {\n      dispatch({\n        type: GET_SPECIAL_RESOURCE,\n        payload: response.data.result\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n}","map":{"version":3,"sources":["/Users/j.bardon/Desktop/Test/reactapp/client/src/store/actions/authActions.js"],"names":["SET_AUTHENTIFICATION","ADD_RESSOURCE","GET_SPECIAL_RESOURCE","axios","BASE_URL","setAuthentification","isLoggedIn","type","payload","addRessource","signinUser","history","email","password","dispatch","post","then","response","localStorage","setItem","data","token","push","catch","error","console","log","signupUser","signoutUser","removeItem","getSpecialRessource","get","headers","authorization","getItem","result"],"mappings":"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","sourcesContent":["import {\n  SET_AUTHENTIFICATION,\n  ADD_RESSOURCE,\n  GET_SPECIAL_RESOURCE\n} from \"./action-types\";\nimport axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:3090\";\nexport function setAuthentification(isLoggedIn) {\n  return {\n    type: SET_AUTHENTIFICATION,\n    payload: isLoggedIn\n  };\n}\n\nexport function addRessource() {\n  return {\n    type: ADD_RESSOURCE\n  };\n}\n\nexport function signinUser({ email, password }, history) {\n  return function(dispatch) {\n    axios\n      .post(`${BASE_URL}/signin`, {\n        email,\n        password\n      })\n      .then(response => {\n        localStorage.setItem(\"Token\", response.data.token);\n        dispatch(setAuthentification(true));\n        history.push(\"/lol\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n}\n\nexport function signupUser({ email, password }, history) {\n  return function(dispatch) {\n    axios\n      .post(`${BASE_URL}/signup`, {\n        email,\n        password\n      })\n      .then(response => {\n        localStorage.setItem(\"Token\", response.data.token);\n        dispatch(setAuthentification(true));\n        history.push(\"/lol\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n}\n\nexport function signoutUser() {\n  return function(dispatch) {\n    dispatch(setAuthentification(false));\n    localStorage.removeItem(\"Token\");\n  };\n}\n\nexport function getSpecialRessource() {\n  return function(dispatch) {\n    axios\n      .get(`${BASE_URL}/lol`, {\n        headers: { authorization: localStorage.getItem(\"Token\") }\n      })\n      .then(response => {\n        dispatch({\n          type: GET_SPECIAL_RESOURCE,\n          payload: response.data.result\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}